app-id: org.sigrok.pulseview
base: org.sigrok.libsigrok.BaseApp
runtime: org.kde.Platform
runtime-version: '5.15-21.08'
sdk: org.kde.Sdk
rename-desktop-file: org.sigrok.PulseView.desktop
rename-icon: pulseview
finish-args:
  - --device=all
  - --device=dri
  - --filesystem=home
  - --socket=wayland
modules:
  - name: pulseview
    buildsystem: cmake
    config-opts:
      - -DCMAKE_CXX_FLAGS=-fext-numeric-literals
      - -DDISABLE_WERROR=ON
      - -DENABLE_TESTS=OFF
    sources:
#     - type: archive
#       url: https://sigrok.org/download/source/pulseview/pulseview-0.4.2.tar.gz
#       sha256: f042f77a3e1b35bf30666330e36ec38fab8d248c3693c37b7e35d401c3bfabcb
#       x-checker-data:
#         type: anitya
#         project-id: 9549
#         stable-only: true
#         url-template: https://sigrok.org/download/source/pulseview/pulseview-$version.tar.gz
      - type: git
        url: https://github.com/sigrokproject/pulseview.git
        branch: master
        commit: a6fa4d477d783478935a78c1b70596e38ae8ca64
